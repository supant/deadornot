<!-- Tableau participation -->
<div class="inner">


<div class="12u$">
	<ul class="actions">
		<li><input type="text" id="champrecherche" value="[onshow.requestTxt]" placeholder="[onload..cst.ALL_SEARCH_HOLDER_TXT]" /></li>
		<li><input type="button" value="[onshow..cst.ALL_RECHERCHER_TXT]" id=buttonRepondre /></li>
	</ul>
</div>

<div class="table-wrapper">
	<table class="alt">
		<tr>
		<td id="[tableauResult.pageid;block=tr]"> [tableauResult.title]</td>
		</tr>
	</table>
</div>
		
<div class="12u$">
	<ul class="actions">
		<li><input type="button" value="[onshow..cst.LISTRESULT_BOUTON_BACK_TXT]" id=buttonBack /></li>
	</ul>
</div>
		
				
</div>


<script type="text/javascript">
	var settings = {
		'page' : '[onshow..script_name]',
		'codeError' : '[onshow..cst.RETOUR_ERREUR]',
		'codeAlert' : '[onshow..cst.RETOUR_ALERT]',
		'pageError' : '[onshow..cst.PAGE_ERREUR]'
	};
	$(function() {
		Util.init(JSON.stringify(settings));
		$('#buttonRepondre').click(function() {
			var data = {
				'action' : "[onshow..cst.ALL_BOUTON_RECHERCHER_VALUE]",
				'champrecherche' : $('#champrecherche').val(),
			};
			Util.ajaxCall(data);
		});
		$('#buttonBack').click(function() {
			var data = {
				'action' : "[onshow..cst.LISTRESULT_BOUTON_BACK_VALUE]",
			};
			Util.ajaxCall(data);
		});	
	}); 
	$('table').on('click', 'tr', function () {
		  var valueId = $(this).find('td:first').attr('id');
		  var valueTxt = $(this).find('td:first').text();
		  var data = {
					'action' : "[onshow..cst.LISTRESULT_BOUTON_PERSONNE_VALUE]",
					'idrecherche': valueId,
					'champrecherche' : $('#champrecherche').val(),
					'txtrecherche' : valueTxt
		  };
		 Util.ajaxCall(data);
	});
	
</script>
